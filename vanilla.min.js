/**
 * Vanilla Framework ;) (https://github.com/xylphid)
 * Version 1.0.5
 *
 * @author Anthony PERIQUET
 */
var vanilla=function(t,e){var n={},s=function(t){if(!(this instanceof s))return new s(t);this.selector=t,this.nodes=void 0!==t?i(t):[]};s.prototype={addClass:function(t){classNames=t.split(" ");for(var e=0;e<this.nodes.length;e++)for(var n in classNames)this.nodes[e].classList.add(classNames[n]);return this},append:function(t){nodes=t instanceof s?t.nodes:a(t);for(var e=0;e<this.nodes.length;e++)for(var n=0;n<nodes.length;n++)this.nodes[e].appendChild(nodes[n]);return this},appendTo:function(t){t instanceof s||(t=new s(t));for(var e=0;e<this.nodes.length;e++)for(var n=0;n<t.nodes.length;n++)t.nodes[n].appendChild(this.nodes[e]);return this},attr:function(t,e){if(void 0!==e){for(var n=0;n<this.nodes.length;n++)null==e?this.nodes[n].removeAttribute(t):this.nodes[n].setAttribute(t,e);return this}return null===(e=this.nodes[0].getAttribute(t))?void 0:e},children:function(t){for(var e=t?this.nodes[0].querySelectorAll(t):this.nodes[0].children,n=s(),o=0;o<e.length;o++)n.nodes[o]=e[o];return n},clone:function(){elm=s(),elm.selector=this.selector;for(var t=0;t<this.nodes.length;t++)elm.nodes.push(this.nodes[t].cloneNode(!0));return elm},css:function(t,e){if(void 0!==e){for(var n=0;n<this.nodes.length;n++)this.nodes[n].defaultStyle=void 0===this.nodes[n].defaultStyle?{}:this.nodes[n].defaultStyle,void 0===this.nodes[n].defaultStyle[r(t)]&&(this.nodes[n].defaultStyle[r(t)]=""!=this.nodes[n].style[r(t)]?this.nodes[n].style[r(t)]:e),this.nodes[n].style[r(t)]=e;return this}return getComputedStyle(this.nodes[0])[r(t)]},each:function(t){if("function"!=typeof t)return this;for(var e=[],n=0;n<this.nodes.length;n++)o=new s,o.nodes=[this.nodes[n]],e.push(o);return[].forEach.call(e,t),this},empty:function(){for(var t=0;t<this.nodes.length;t++)for(;this.nodes[t].firstChild;)this.nodes[t].removeChild(this.nodes[t].firstChild)},fadeIn:function(t,e){e=void 0===(e="function"!=typeof t?t:e)?500:e,t="function"!=typeof t?null:t;for(var n=0;n<this.nodes.length;n++){var s=this.nodes[n].style,o=this.nodes[n].defaultStyle&&void 0!==this.nodes[n].defaultStyle.opacity?this.nodes[n].defaultStyle.opacity:1;s.opacity=0,s.display="none"==s.display?"block":s.display,function n(){var i=parseFloat(s.opacity);(i+=.01)>o?t&&t():(s.opacity=i,setTimeout(n,e/100))}()}return this},fadeOut:function(t,e){e=void 0===(e="function"!=typeof t?t:e)?500:e,t="function"!=typeof t?null:t;for(var n=0;n<this.nodes.length;n++){var s=this.nodes[n].style;s.opacity=s.opacity?s.opacity:1,function n(){(s.opacity-=.01)<0?(s.display="none",t&&t()):setTimeout(n,e/100)}()}return this},firstChild:function(){for(first=this.nodes[0].firstChild;null!==first&&(8==first.nodeType||3==first.nodeType&&!/\S/.test(first.nodeValue));)first=first.nextSibling;return s(first)},hasClass:function(t){hasClass=!1;for(var e=0;e<this.nodes.length;e++)hasClass=hasClass||new RegExp(" "+t+" ").test(" "+this.nodes[e].classList+" ");return hasClass},html:function(t){if(void 0!==t){for(var e=0;e<this.nodes.length;e++)this.nodes[e].innerHTML=t;return this}return this.nodes[0].innerHTML},innerHeight:function(){return 0==this.nodes.length?null:this.nodes[0].clientHeight},innerWidth:function(){return 0==this.nodes.length?null:this.nodes[0].clientWidth},is:function(t){for(var n=e.querySelectorAll(t),s=0;s<n.length;s++)if(n[s]===this.nodes[0])return!0;return!1},lastChild:function(){for(last=this.nodes[0].lastChild;null!==last&&(8==last.nodeType||3==last.nodeType&&!/\S/.test(last.nodeValue));)last=last.previousSibling;return s(last)},length:function(){return this.nodes.length},load:function(t){return this.on("load",t),this},next:function(){for(sibling=this.nodes[0].nextSibling;null!==sibling&&(8==sibling.nodeType||3==sibling.nodeType&&!/\S/.test(sibling.nodeValue));)sibling=sibling.nextSibling;return null!==sibling?(o=new s(sibling),o.selector=this.selector):o=sibling,o},off:function(t){Object.keys(n).length;for(var e in n){for(var s=!1,o=n[e],i=0;i<this.nodes.length;i++)o.event==t&&(this.nodes[i].removeEventListener(o.event,o.handler,o.capture),s=!0);!0===s&&delete n[e]}return this},on:function(t,e,o,i){"function"==typeof e&&(i=o,o=e,e=null);var r=Object.keys(n).length;if(i=void 0!==i&&i,null!==e)var l=function(t){for(t.value=s(t.target);t.value instanceof s&&!t.value.is(e);)t.value=t.value.parent();if(t.value&&t.value.is(e))return o(t)};for(var h=0;h<this.nodes.length;h++)this.nodes[h].addEventListener(t,e?l:o,i),n[r+h]={element:this.nodes[h],event:t,handler:e?l:o,capture:i};return this},outerHeight:function(){return 0==this.nodes.length?null:this.nodes[0].offsetHeight},outerHtml:function(){return this.nodes[0].outerHTML},outerWidth:function(){return 0==this.nodes.length?null:this.nodes[0].offsetWidth},parent:function(){return null!==this.nodes[0].parentNode?o=new s(this.nodes[0].parentNode):o=this.nodes[0].parentNode,o},prepend:function(t){nodes=t instanceof s?t.nodes:a(t);for(var e=0;e<this.nodes.length;e++){first=this.nodes[e].hasChildNodes()?this.nodes[e].firstChild:null;for(var n=0;n<nodes.length;n++)null!==first?this.nodes[e].insertBefore(nodes[n],first):this.nodes[e].appendChild(nodes[n])}return this},prependTo:function(t){t instanceof s||(t=s(t));for(var e=0;e<this.nodes.length;e++)for(var n=0;n<t.nodes.length;n++)first=t.nodes[e].hasChildNodes()?t.nodes[e].firstChild:null,null!==first?t.nodes[e].insertBefore(this.nodes[n],first):t.nodes[e].appendChild(this.nodes[n]);return this},prev:function(){for(sibling=this.nodes[0].previousSibling;null!==sibling&&(8==sibling.nodeType||3==sibling.nodeType&&!/\S/.test(sibling.nodeValue));)sibling=sibling.previousSibling;return null!==sibling?(o=new s(sibling),o.selector=this.selector):o=sibling,o},ready:function(t){e.addEventListener("DOMContentLoaded",t,!1)},remove:function(){for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];void 0!==e.remove?e.remove():void 0!==e.parentNode?e.parentNode.removeChild(e):e.parent.removeChild(e)}},removeClass:function(t){classNames=t.split(" ");for(var e=0;e<this.nodes.length;e++)for(key in classNames)this.nodes[e].classList.remove(classNames[key]);return this},replaceWith:function(t){for(var e=0;e<this.nodes.length;e++)this.nodes[e].outerHTML=t instanceof s?t.nodes[0].outerHTML:t;return this},scrollTop:function(){return 0==this.nodes.length?null:this.nodes[0].scrollTop},scrollLeft:function(){return 0==this.nodes.length?null:this.nodes[0].scrollLeft},scrollHeight:function(){return 0==this.nodes.length?null:this.nodes[0].scrollHeight},scrollWidth:function(){return 0==this.nodes.length?null:this.nodes[0].scrollWidth},serialize:function(){for(var t=this.nodes[0],e={},n=0;n<t.length;n++)"file"==t.elements[n].getAttribute("type")?e[t.elements[n].name]=t.elements[n].files:e[t.elements[n].name]=t.elements[n].value;return e},swipe:function(t,e){return this.touch.load(this,t,e),this},toggleAttr:function(t,e){for(var n=0;n<this.nodes.length;n++)console.log(this.nodes[n].getAttribute(t)),null==this.nodes[n].getAttribute(t)?(console.log("set attribute"),this.nodes[n].setAttribute(t,e)):(console.log("remove attribute"),this.nodes[n].removeAttribute(t));return this},toggleClass:function(t){for(var e=0;e<this.nodes.length;e++)this.nodes[e].classList.toggle(t);return this},touch:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,load:function(t,e,n){t.on("touchmove",function(e){if(1==e.touches.length&&1==t.touch.capture){var n=e.touches[0];t.touch.stop_x=n.pageX,t.touch.stop_y=n.pageY,t.touch.tap=!1,t.touch.capture=!1}e.preventDefault()}),t.on("touchend",function(s){t.touch.checkDirection(e,n),s.preventDefault()},!1),t.on("touchstart",function(e){t.touch.start_x=e.changedTouches[0].pageX,t.touch.start_y=e.changedTouches[0].pageY,t.touch.tap=!0,t.touch.capture=!0,e.preventDefault()})},checkDirection:function(t,e){x_magnitude=Math.abs(this.start_x-this.stop_x),y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"right":"left",y=this.start_y-this.stop_y<0?"down":"up",result=x_magnitude>y_magnitude?x:y,result=1==this.tap?"tap":result,result==t&&e()}},value:function(t){if(void 0!==t){for(var e=0;e<this.nodes.length;e++)this.nodes[e].value=t;return this}return this.nodes[0].value}},s.ajax=function(e,n){n=void 0!==n?n:{};var s=new XMLHttpRequest;s.open(n.method?n.method:"GET",e,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.onload=function(){if(s.status>=200&&s.status<400){if(void 0!==n.success){n.success(s);for(var e=d(a(s.responseText)),o=0;o<e.length;o++)t.eval(e[o].text)}}else void 0!==n.error&&n.error(s)},s.onerror=function(){console.log(s.responseText)},"POST"==n.method?n.datas=n.datas?f(n.datas):null:n.datas=n.datas?u(n.datas):null,s.send(n.datas)},s.extend=function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t};var i=function(t){var n=null;if("string"!=typeof t)n=t instanceof s?t.nodes:[t];else if(l(t)){var o=t.substring(1,t.length-1);n=[e.createElement(o)]}else if(h(t)){var i=t.substring(1);n=[e.getElementById(i)]}else try{n=e.querySelectorAll(t)}catch(e){n=a(t)}return void 0===n?[]:n},r=function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},l=function(t){return 0===t.search(/^<\w+>$/)},h=function(t){return 0===t.search(/^#\w+$/)},a=function(t){return(new DOMParser).parseFromString(t,"text/html").body.childNodes},d=function(t){for(var e=[],n=0;n<t.length;n++)"SCRIPT"==t[n].tagName?e.push(t[n]):1==t[n].nodeType&&(e=s.extend([],e,d(t[n].childNodes)));return e},u=function(t,e){var n=[];for(var s in t)if(t.hasOwnProperty(s)){var o=e?e+"["+s+"]":s,i=t[s];n.push("object"==typeof i?u(i,o):encodeURIComponent(o)+"="+encodeURIComponent(i))}return n.join("&")},f=function(t){var e=new FormData;for(var n in t)if(t[n]instanceof FileList)if(1==t[n].length)e.append(n,t[n][0],t[n][0].name);else for(var s=0;s<t[n].length;s++)e.append(n+"[]",t[n].files[s],t[n].files[s].name);else e.append(n,t[n]);return e};return t.vanilla=new s,s}(this.window,this.document);